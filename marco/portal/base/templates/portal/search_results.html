{% extends "base.html" %}

{% block body_class %}search-results-page{% endblock %}

{% block title %}Search{% if wagtail_search_results or theme_results or layer_results %} Results{% endif %}{% endblock %}

{% block page_title %}Search{% if wagtail_search_results or theme_results or layer_results %} Results{% endif %}{% endblock %}

{% block page_header %}
{{ block.super }}
<div class="search-container">
  {% include "portal/components/search_form.html" %}
</div>
{% endblock %}

{% block content %}

  {% if theme_results or layer_results %}
    <ul>
      {% if theme_results %}
        {% for result in theme_results %}
            <li><a href="/data-catalog/{{ result.name }}">{{ result.display_name }}</a></li>
        {% endfor %}
      {% endif %}

      {% if layer_results %}
          {% for result in layer_results %}
            <li><a href="{{ result.get_absolute_url }}">{{ result.name }}</a></li>
        {% endfor %}
      {% endif %}
    </ul>
  {% endif %}
  {% if wagtail_search_results %}
      <ul>
          {% for result in wagtail_search_results %}
              <li><a href="{{ result.specific.url }}">{{ result.specific }}</a></li>
          {% endfor %}
      </ul>
  {% endif %}
{% endblock %}

{% block extra_js %}
  <script>
    $('.content .search-input').focus();
  </script>
{% endblock %}
